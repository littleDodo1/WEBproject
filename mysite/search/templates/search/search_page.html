{% load static %}

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Поиск фильмов и книг</title>
    <link rel="stylesheet" href="{% static 'search/css/search_page.css' %}">
</head>
<body>
    <div class="header">
        <a href="{% url 'search:browse' %}" class="logo"><img src="{% static 'search/img/logo.png' %}" height="55" alt="Лого"></a>
        <a href="#" class="user-icon"><img src="{% static 'search/img/pfp.png' %}" height="55" alt="Лого"></a>
    </div>

    <div class="container">
        <h1>Поиск фильмов и книг</h1>
        <form method="get" action="{% url 'search:results' %}">
            <select id="typeSelect" onchange="toggleFilters()" name="search_type">
                <option value="movie">Фильм</option>
                <option value="book">Книга</option>
            </select>

            <div id="movieFilters">
                <div class="multi-select">
                    <input type="checkbox" id="action" value="боевик" name="genre">
                    <label for="action">Боевик</label>
                    <input type="checkbox" id="comedy" value="комедия" name="genre">
                    <label for="comedy">Комедия</label>
                    <input type="checkbox" id="drama" value="драма">
                    <label for="drama">Драма</label>
                    <input type="checkbox" id="sci-fi" value="фантастика" name="genre">
                    <label for="sci-fi">Фантастика</label>
                    <input type="checkbox" id="horror" value="ужасы" name="genre">
                    <label for="horror">Ужасы</label>
                    <input type="checkbox" id="thriller" value="триллер" name="genre">
                    <label for="thriller">Триллер</label>
                    <input type="checkbox" id="animation" value="мультфильм" name="genre">
                    <label for="animation">Анимация</label>
                    <input type="checkbox" id="documentary" value="документальный" name="genre">
                    <label for="documentary">Документальный</label>
                    <input type="checkbox" id="mystery" value="фэнтези" name="genre">
                    <label for="mystery">Фэнтези</label>
                    <input type="checkbox" id="western" value="вестерн" name="genre">
                    <label for="western">Вестерн</label>
                    <input type="checkbox" id="adventure" value="приключения" name="genre">
                    <label for="adventure">Приключения</label>
                </div>
                <select name="years" required>
                    <option value="" disabled selected>Десятилетие</option>
                    <option value="1900-2025">Любое</option>
                    <option value="2020-2025">2020-е</option>
                    <option value="2010-2019">2010-е</option>
                    <option value="2000-2009">2000-е</option>
                    <option value="1990-1999">1990-е</option>
                    <option value="1980-1989">1980-е</option>
                    <option value="1970-1979">1970-е</option>
                    <option value="1960-1969">1960-е</option>
                    <option value="1900-1959">< 1960</option>
                </select>
                <div class="checkbox-group">
                    <div class="toggle-group">
                        <input type="radio" id="option-rus" name="country" value="Россия,СССР" checked>
                        <label for="option-rus">Россия</label>

                        <input type="radio" id="option-us" name="country" value="США">
                        <label for="option-us">США</label>

                        <input type="radio" id="option-france" name="country" value="Франция">
                        <label for="option-france">Франция</label>

                        <input type="radio" id="option-uk" name="country" value="Великобритания">
                        <label for="option-uk">Великобритания</label>

                        <input type="radio" id="option-korea" name="country" value="Корея Южная">
                        <label for="option-korea">Корея</label>

                        <input type="radio" id="option-others" name="country" value="!Великобритания,!Корея Южная,!США,!Франция,!Россия,!СССР">
                        <label for="option-others">Другие</label>

                        <input type="radio" id="option-all" name="country" value="!Россия+Россия">
                        <label for="option-all">Все</label>
                    </div>
                </div>
            </div>

            <div id="bookFilters" style="display: none;">
                <select name="genres">
                    <option value="" disabled selected>Жанр</option>
                    <option value="fantasy">Фэнтези</option>
                    <option>Детектив</option>
                    <option>Роман</option>
                    <option>Историческая</option>
                    <option>Фантастика</option>
                    <option>Приключения</option>
                    <option>Биография</option>
                    <option>Научная</option>
                    <option>Психология</option>
                    <option>Классика</option>
                </select>
                <select name="years">
                    <option value="" disabled selected>Век</option>
                    <option value="2000-2025">XXI век</option>
                    <option value="1900-1999">XX век</option>
                    <option value="1800-1899">XIX век</option>
                    <option value="1700-1799">XVIII век</option>
                    <option value="1600-1699">XVII век</option>
                    <option value="0-1599">≤ XVI век</option>
                </select>
            </div>

            <button type="submit">Применить</button>
        </form>
    </div>

    <script>
        function toggleFilters() {
            let type = document.getElementById('typeSelect').value;
            document.getElementById('movieFilters').style.display = type === 'movie' ? 'block' : 'none';
            document.getElementById('bookFilters').style.display = type === 'book' ? 'block' : 'none';
        }
    </script>
</body>
</html>
